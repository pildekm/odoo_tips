<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<record id="manufacturer_certificate_tree" model="ir.ui.view">
			<field name="name">manufacturer.certificate.tree</field>
			<field name="model">manufacturer.certificate</field>
			<field name="arch" type="xml">
				<tree string="Certificate">
					<field name="vin_number"/>
					<field name="first_name"/>
					<field name="last_name"/>
					<field name="vehicle_id"/>
					<field name="state"/>
				</tree>
			</field>
		</record>

		<record id="manufacturer_certificate_form" model="ir.ui.view">
			<field name="name">manufacturer.certificate.form</field>
			<field name="model">manufacturer.certificate</field>
			<field name="arch" type="xml">
				<form string="Certificate">
					<header>
						<field name="state" widget="statusbar"/>
					</header>
					<notebook >
						<page string="Kontakt">
							<group>
								<field name="id" invisible="True"/>
								<field name="partner_id"/>
								<field name="first_name" colspan="2"/>
								<field name="last_name" colspan="2"/>
								<field name="oib_num" colspan="2"/>
								<field name="email" widget="email" colspan="2"/>
								<field name="street" colspan="2"/>
								<field name="street_number" colspan="2"/>
								<field name="zip"/>
								<field name="city"/>
								<!--<field name="country" colspan="2"/>-->
							</group>
							<button name="save_contact" string="Potvrdi kontak"
							        type="object" class="oe_highlight"
									attrs="{'invisible': [('state', '!=', 'draft')]}"/>
						</page>
						<page string="Adresa za slanje">
							<group>
								<field name="street_send" colspan="2"/>
								<field name="street_number_send" colspan="2"/>
								<field name="zip_send"/>
								<field name="city_send"/>
								<!--<field name="country_send" colspan="2"/>-->
								<field name="personal_pickup" help="Potvrdu možete preuzeti i osobno na našoj adresi, Susedsko polje 53, 10000 Zagreb. Radnim danom od 08-16h."/>
						    </group>
						</page>
						<page string="Motor podaci" attrs="{'invisible': [('state', '=', 'draft')]}">

							<group>
								<field name="vehicle_id" colspan="4" attrs="{'required':[('state', '!=', 'draft')]}"
									context="{'certificate_id': id}"/>
								<field name="vin_number"/>
								<button class="oe_highlight" name="check_vin_number"
								        type="object" string="Check VIN"
										attrs="{'invisible': [('state', 'in', ['vin','incorrect','done','cancel'])]}"/>
							</group>
							<group>
								<button class="oe_highlight" name="centar_za_vozila"
								        type="object" string="Centar za vozila"
										attrs="{'invisible': [('state', 'in', ['vin','incorrect','payment','done','cancel'])]}"/>
								<button class="oe_highlight" name="provjera_s_tvornicom"
								        type="object" string="Provjera s tvornicom"
										attrs="{'invisible': [('state', 'in', ['vin','incorrect','done','cancel'])]}"/>
							</group>

						</page>
						<!--<page string="Dokumenti za izdavanje certifikata" attrs="{'invisible': [('state', 'in', ['draft','contact'])]}">-->
							<!--<separator string="Dokumenti potrebni za izdavanje potvrde proizvođača:"/>-->
							<!--<group>-->
								<!--<p>Kopija prometne dozvole vozila, Račun</p>-->
							<!--</group>-->
							<!--<separator/>-->
							<!--<group>-->
								<!--<field name="doc1" colspan="4"/>-->
								<!--<field name="doc2" colspan="4"/>-->
								<!--<field name="doc3" colspan="4"/>-->
								<!--<field name="doc4" colspan="4"/>-->
								<!--<field name="doc5" colspan="4"/>-->
								<!--<button class="oe_highlight" name="confirm_documentation"-->
								        <!--type="object"-->
								        <!--string="Potvrdi dokumentaciju"-->
										<!--attrs="{'invisible': [('state','not in',['vin','incorrect'])]}"/>-->
								<!--&lt;!&ndash;<button class="oe_highlight" name="upload_document" type="object" string="Upload Document"/>&ndash;&gt;-->
							<!--</group>-->
						<!--</page>-->
						<page string="Dokumentacija" attrs="{'invisible': [('state', 'in', ['draft','contact','vin','done','payment'])]}">
							<group>
								<field name="note" attrs="{'invisible': [('state', '=', 'payment')]}"/>
							</group>
							<group>
								<button class="oe_highlight" name="documentation_ok"
								        type="object"
								        string="Dokumentacija OK"
										attrs="{'invisible': [('state', '=', 'payment')]}"/>
								<button class="oe_highlight" name="documentation_incorrect"
								        type="object"
								        string="Nepotpuna dokumentacija"
										attrs="{'invisible': [('state', '=', 'payment')]}"/>
							</group>
						</page>
						<!--attrs="{'invisible': [('state', '!=', 'payment')]}"-->
						<page string="Uplata" attrs="{'invisible': [('state', 'in', ['draft','contact','vin','incorrect','waiting','done','cancel'])]}">
							<group>
								<button class="oe_highlight" name="payment_ok"
								        type="object"
								        string="Potvrdi plačanje" attrs="{'invisible':[('state','!=','payment')]}"/>
							</group>
						</page>

						<page string="Potvrda proizvođača" attrs="{'invisible': [('state', '!=', 'payment_ok')]}">
							<group>
								<field name="potvrda"/>
								<button class="oe_highlight" name="send_certificate"
								        type="object"
								        string="Pošalji Potvrdu proizvođača"/>
							</group>
						</page>
					</notebook>
					<!--<button class="oe_highlight" name="send_mail_template" type="object" string="Pošalji mail"/>-->
				</form>
				<!--<div class="oe_chatter">-->
					<!--<field name="message_follower_ids" widget="mail_followers"/>-->
					<!--<field name="message_ids" widget="mail_thread"/>-->
				<!--</div>-->
			</field>
		</record>


		<record model="ir.actions.act_window" id="action_manufacturer_certifiacte_tree">
                <field name="name">Manufacturer certificate</field>
                <field name="res_model">manufacturer.certificate</field>
        </record>

		<!--<menuitem action="action_manufacturer_certifiacte_tree" id="id_manufacturer_certificate_tree" name="Manufacturer certificate" sequence="3"/>-->

		<!--Manufacturer certificate vehicle-->
		<record id="manufacturer_certificate_vehicle_tree" model="ir.ui.view">
			<field name="name">manufacturer.certificate.vehicle.tree</field>
			<field name="model">manufacturer.certificate.vehicle</field>
			<field name="arch" type="xml">
				<tree string="Vehicle">
					<field name="vin"/>
					<field name="motor_model"/>
					<field name="model_year"/>
					<field name="zip" widget="Char"/>
					<field name="city"/>
					<field name="origin"/>
					<button class="oe_highlight" name="uvezi" type="object" string="Uvezi"/>
				</tree>
			</field>
		</record>

		<record id="manufacturer_certificate_vehicle_form" model="ir.ui.view">
			<field name="name">manufacturer.certificate.vehicle.form</field>
			<field name="model">manufacturer.certificate.vehicle</field>
			<field name="arch" type="xml">
				<form string="Vehicle">
					<notebook>
						<page string="Podaci o vozilu">
							<group>
								<field name="vin"/>
								<field name="motor_model"/>
								<field name="model_year"/>
								<field name="origin"/>
							</group>
						</page>
					    <page string="Podaci o lokaciji vozila">
						    <group>
								<field name="zip" widget="Char"/>
								<field name="city"/>
						    </group>
						</page>
					</notebook>
				</form>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_manufacturer_certifiacte_vehicle_tree">
                <field name="name">Manufacturer certificate vehicle</field>
                <field name="res_model">manufacturer.certificate.vehicle</field>
        </record>

		<!--<menuitem action="action_manufacturer_certifiacte_vehicle_tree" id="id_manufacturer_certificate_vehicle_tree" name="Vehicle" sequence="4"/>-->


	</data>
</openerp>
